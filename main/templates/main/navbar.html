<!--Navbar-->
{% load static %}
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container-fluid">
    <a class="navbar-brand" href="{% url 'main:projects' %}">
      <h1>ProCAT</h1>
    </a>
    <ul class="navbar-nav me-auto">
      {% if user.is_authenticated %}
        <li class="nav-item">
          <a class="nav-link" href="{% url 'main:capacity_planning' %}">Capacity planning</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'main:cost_recovery' %}">Cost recovery</a>
        </li>
      {% endif %}
    </ul>
    <ul class="navbar-nav">
      {% if user.is_authenticated %}
        <!-- We welcome the user and include a few useful links -->
        <li class="nav-item">
          <a class="nav-link">Welcome: {{ user.username }}</a>
        </li>
        {% if user.is_superuser %}
          <li class="nav-item">
            <a class="nav-link" href="{% url 'admin:index' %}">Admin site</a>
          </li>
        {% endif %}
        <li class="nav-item">
          {% if use_OIDC %}
            <form method="post" action="{% url 'oidc_logout' %}">
              {% csrf_token %}
              <input class="nav-link logout-button" type="submit" value="Logout" />
            </form>
          {% else %}
            <form method="post" action="{% url 'logout' %}">
              {% csrf_token %}
              <input class="nav-link logout-button" type="submit" value="Logout" />
            </form>
          {% endif %}
        </li>
      {% else %}
        <!-- Otherwise we just show options to login -->
        <li>
          {% if use_OIDC %}
            <a class="nav-link" href="{% url 'oidc_authentication_init' %}">Login</a>
          {% else %}
            <li class="nav-item">
              <a class="nav-link" href="{% url 'main:auth_register' %}">Register</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'login' %}">Login</a>
            </li>
          {% endif %}
        </li>
      {% endif %}
    </ul>
  </div>
</nav>
